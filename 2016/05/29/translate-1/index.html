<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="MicroStudent"><title>翻译：在Android上正确地使用style来配置你的View（而不陷入抓狂状态）(未完成！) · MicroStudent的博客</title><meta name="description" content="refer:http://blog.danlew.net/2014/11/19/styles-on-android/
我们总是很难在Android上正确的使用Style。始终会有一种潜在的挫败感。代码的结构很容易因此变得一团糟糕。你已经有多少次想要改变某些View的Style时却担心无意中破坏了某些"><meta name="keywords" content="Android,Hexo"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="short icon" href="/images/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"></head><body><div class="sidebar animated fadeInDown"><div class="logo-title"><div class="title"><img src="/images/logo@2x.png" style="width:127px;"><h3 title=""><a href="/">MicroStudent的博客</a></h3><div class="description"><p>I love learning.</p></div></div></div><ul class="social-links"><li><a href="http://weibo.com/1572542140"><i class="fa fa-weibo"></i></a></li><li><a href="http://github.com/microstudent"><i class="fa fa-github"></i></a></li></ul><div class="footer"><a target="_blank" href="/"><span>Theme by </span></a><a href="https://www.caicai.me"> CaiCai </a><span>&</span><a href="https://github.com/Ben02/hexo-theme-Anatole"> Ben</a><div class="by_farbox"><a href="https://hexo.io/zh-cn/" target="_blank">Proudly published with Hexo&#65281;</a></div></div></div><div class="main"><div class="page-top animated fadeInDown"><div class="nav"><li><a href="/">首页</a></li><li><a href="/about">关于</a></li><li><a href="/archives">归档</a></li><li><a href="/links">友链</a></li></div><div class="information"><div class="back_btn"><li><a class="fa fa-chevron-left" onclick="window.history.go(-1)"> </a></li></div><div class="avatar"><img src="/assets/images/avatar.jpg"></div></div></div><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post animated fadeInDown"><div class="post-title"><h3><a>翻译：在Android上正确地使用style来配置你的View（而不陷入抓狂状态）(未完成！)</a></h3></div><div class="post-content"><p><em>refer:<a href="http://blog.danlew.net/2014/11/19/styles-on-android/" target="_blank" rel="noopener">http://blog.danlew.net/2014/11/19/styles-on-android/</a></em></p>
<p>我们总是很难在Android上正确的使用Style。始终会有一种潜在的挫败感。代码的结构很容易因此变得一团糟糕。你已经有多少次想要改变某些View的Style时却担心无意中破坏了某些东西？</p>
<a id="more"></a>
<p>在Android平台上开发了多年之后，我有一些关于如何正确使用style的强烈建议，关于如何使用它们而不让自己抓狂，还有一系列让我保持淡定的细则。</p>
<p>这篇文章讲的是关于<strong>View</strong>的style，所以请记住，即使Theme使用和Style类似的结构，它们也是不同的东西。或许我有一天会写一片关于<strong>Theme</strong>的文章，但是我还没说服我自己如何使用<strong>Theme</strong>而不抓狂。</p>
<p>抓稳扶手，老司机要发车了。这是一片长文章。</p>
<h2 id="何时使用Styles"><a href="#何时使用Styles" class="headerlink" title="何时使用Styles"></a>何时使用Styles</h2><p>第一个我们必须思考的问题是，我们应该在什么时候通过写style而不是直接在View上写属性来自定义一个<strong>View</strong>？</p>
<p><strong>规则1：当有成倍的View使用完全相同的属性时使用Style</strong></p>
<p>这条规则能被以下例子完美的体现出来：</p>
<ul>
<li>你在写一个计算器，每个按钮都应该看起来是一样的，所以创建一个名为<strong>CalculatorButton</strong>的Style是有意义的。</li>
<li>你有两个有着不同格式文本的页面，例如header，子header，和text。你可以通过创建<strong>Header</strong>，<strong>SubHeader</strong>，<strong>Text</strong>来统一他们的外观。</li>
<li>你在你的APP上有着很多缩略图，你想要让他们看起来都都一样，所以应该创建<strong>Thumbnail</strong>这个Style。</li>
</ul>
<p>这些例子的共同点在于，这些<strong>View</strong>都不只是相同的属性——<strong>他们在app中扮演着相同的角色</strong>。现在，当你想要调整这些<strong>View</strong>的外观/造型，你可以通过编辑style来一次性改变他们。这节约了你的时间和精力，并且让这些<strong>View</strong>保持了一致。</p>
<hr>
<p>想要节约更多的工作？使用资源引用(resource references)吧！</p>
<p><strong>规则2：在style里适当使用references</strong></p>
<p>你可以这样来定义一个sytle：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;style name=&quot;MyButton&quot;&gt;</span><br><span class="line">    &lt;item name=&quot;android:minWidth&quot;&gt;88dp&lt;/item&gt;</span><br><span class="line">    &lt;item name=&quot;android:minHeight&quot;&gt;48dp&lt;/item&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<p>如果你希望<strong>minWidth</strong>根据不同的屏幕尺寸而变化时应该怎么做？你可以在每个尺寸的style文件里重复这个style(例如<strong>sw600dp</strong>和<strong>sw900dp</strong>)，但是这样你不得不同样重复<strong>minHeight</strong>这个属性。要是你想要同时改变这两个属性呢？一瞬间你将获得一大堆到处定义好了的<strong>MyButtons</strong>，而且每一个都是重复了其他的属性，这是一次灾难。很容易就会忘记了修改这么多份副本中的其中一份。</p>
<p>其实style只是一系列属性的别名，如果我们这么定义我们的style会更容易：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;style name=&quot;MyButton&quot;&gt;</span><br><span class="line">    &lt;item name=&quot;android:minWidth&quot;&gt;@dimen/button_min_width&lt;/item&gt;</span><br><span class="line">    &lt;item name=&quot;android:minHeight&quot;&gt;@dimen/button_min_height&lt;/item&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<p>现在你可以根据这个reference来修改一个属性值。去修改一个重复了无数次的layout的属性值无疑是荒谬的。你可以使用dimension来做到这一点，效果在style上完全一样。</p>
<p>我的意思并不是说你应该<em>总是</em>在style里使用resource references，只是说你应该在你需要成倍修改属性值的时候使用它。</p>
<p>这不是说有时候有时候你不需要通过资源限定符(resource qualifiers)重复一个style，你可以在最小限度内保持这一点。</p>
</div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2016-05-29</span><i class="fa fa-tag"></i></div></div></div></div><div class="share"><div class="evernote"><a class="fa fa-bookmark" href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" ref="nofollow" target="_blank"></a></div><div class="weibo"><a class="fa fa-weibo" href="javascript:void((function(s,d,e){try{}catch(e){}var f='http://service.weibo.com/share/share.php?',u=d.location.href,p=['url=',e(u),'&amp;title=',e(d.title),'&amp;appkey=2924220432'].join('');function a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=620,height=450,left=',(s.width-620)/2,',top=',(s.height-450)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a()}})(screen,document,encodeURIComponent));"></a></div><div class="twitter"><a class="fa fa-twitter" href="http://twitter.com/home?status=,http://microstudent.github.io/2016/05/29/translate-1/,MicroStudent的博客,翻译：在Android上正确地使用style来配置你的View（而不陷入抓狂状态）(未完成！),;"></a></div></div><div class="pagination"><ul class="clearfix"><li class="pre pagbuttons"><a class="btn" role="navigation" href="/2016/06/01/rxjava-1/" title="RxJava使用小记录">上一篇</a></li><li class="next pagbuttons"><a class="btn" role="navigation" href="/2016/05/29/ninekeyquery/" title="实现一个简单的九键拼音匹配算法(比较随性)">下一篇</a></li></ul></div></div></div></div></div><script src="/js/jquery.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script></body></html>